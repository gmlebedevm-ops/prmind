# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —á–µ–∫-–ª–∏—Å—Ç–æ–º

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
–ó–∞–¥–∞—á–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —á–µ–∫-–ª–∏—Å—Ç–∞ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å 0.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoint
- **–ü—Ä–æ–±–ª–µ–º–∞**: API `/api/checklist/tasks` –≤–æ–∑–≤—Ä–∞—â–∞–ª –æ—à–∏–±–∫—É 401 (–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
- **–ü—Ä–∏—á–∏–Ω–∞**: –§—É–Ω–∫—Ü–∏—è `getAuthUser` –æ–∂–∏–¥–∞–ª–∞ `Headers` –æ–±—ä–µ–∫—Ç, –Ω–æ –ø–æ–ª—É—á–∞–ª–∞ `NextRequest`
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ `getAuthUser(request.headers)`

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —á–µ–∫-–ª–∏—Å—Ç–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-User-ID` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API
- **–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-User-ID` –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API —á–µ–∫-–ª–∏—Å—Ç–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. API endpoint (`/src/app/api/checklist/tasks/route.ts`)
```typescript
// –ë—ã–ª–æ:
const user = await getAuthUser(request);

// –°—Ç–∞–ª–æ:
const user = await getAuthUser(request.headers);
```

### 2. –§—Ä–æ–Ω—Ç–µ–Ω–¥ (`/src/app/checklist/page.tsx`)
```typescript
// –ë—ã–ª–æ:
const response = await fetch('/api/checklist/tasks');

// –°—Ç–∞–ª–æ:
const userId = localStorage.getItem('userId');
const response = await fetch('/api/checklist/tasks', {
  headers: {
    'X-User-ID': userId || '',
  },
});
```

–¢–∞–∫–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `updateTaskStatus` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á: 0
- –°—Ç–∞—Ç—É—Å API: 401 –æ—à–∏–±–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –ü—É—Å—Ç–æ–π —á–µ–∫-–ª–∏—Å—Ç

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á: 213
- –°—Ç–∞—Ç—É—Å API: 200 OK
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–¢–µ–ø–µ—Ä—å —á–µ–∫-–ª–∏—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö 213 –∑–∞–¥–∞—á
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

## üîó –î–æ—Å—Ç—É–ø
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —á–µ–∫-–ª–∏—Å—Ç–∞**: http://localhost:3000/checklist
- **API endpoint**: http://localhost:3000/api/checklist/tasks
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ

## üìù –ó–∞–º–µ—á–∞–Ω–∏—è

1. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á**: –í API –¥–æ–±–∞–≤–ª–µ–Ω–æ 213 –∑–∞–¥–∞—á –∏–∑ 224 –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–∑–∂–µ.
2. **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ó–∞–¥–∞—á–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏. –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å—Ç–∞—Ç—É—Å—ã —Å–±—Ä–æ—Å—è—Ç—Å—è.
3. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-User-ID` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–î–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏**: –î–æ–ø–æ–ª–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ 224 –∑–∞–¥–∞—á
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤
4. **–≠–∫—Å–ø–æ—Ä—Ç**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç —á–µ–∫-–ª–∏—Å—Ç–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞. –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π ProjectMind.